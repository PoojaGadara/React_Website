{"ast":null,"code":"import _defineProperty from\"E:/Nodejs/Final_Projects/UserWebsite/clientSide/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"E:/Nodejs/Final_Projects/UserWebsite/clientSide/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"E:/Nodejs/Final_Projects/UserWebsite/clientSide/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/Nodejs/Final_Projects/UserWebsite/clientSide/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/Nodejs/Final_Projects/UserWebsite/clientSide/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Component,useState,useEffect}from'react';import axios from'axios';import{Navigate,useNavigate,Link,useParams,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Update=function Update(){var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;var location=useLocation();var state=location.state;// console.log(params.id)\nvar _useState=useState({name:\"\",phone:\"\",email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){function getUser(){return _getUser.apply(this,arguments);}function _getUser(){_getUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:8000/company/showUser/\".concat(state.id));case 3:_user=_context.sent;setUser(_user.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"Something is Wrong\");case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _getUser.apply(this,arguments);}getUser();},[id]);var name=user.name,phone=user.phone,email=user.email,password=user.password;function onTextChange(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));}var updateAPIData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var _user2;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.prev=1;_context2.next=4;return axios.put(\"http://localhost:8000/company/updateUser/\".concat(state.id),{name:name,phone:phone,email:email,password:password});case 4:_user2=_context2.sent;navigate('/Home');_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function updateAPIData(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"my-5\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Update Your Data\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"container contact_div\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-10 mx-auto\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateAPIData,encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput1\",class:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",name:\"name\",value:name,onChange:function onChange(e){return onTextChange(e);},placeholder:\"Enter Your Name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput1\",class:\"form-label\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",name:\"phone\",value:phone,onChange:function onChange(e){return onTextChange(e);},placeholder:\"Mobile Number\",required:true,pattern:\"[7-9]{1}[0-9]{9}\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput1\",class:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",class:\"form-control\",name:\"email\",value:email,onChange:function onChange(e){return onTextChange(e);},placeholder:\"Enter Your Email address\",required:true,pattern:\"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInput1\",class:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",class:\"form-control\",name:\"password\",value:password,onChange:function onChange(e){return onTextChange(e);},placeholder:\"Enter Password\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{class:\"col-12\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-outline-primary\",x:true,type:\"submit\",children:\"Submit form\"})})]})})})})]})});};export default Update;","map":{"version":3,"names":["React","Component","useState","useEffect","axios","Navigate","useNavigate","Link","useParams","useLocation","Update","navigate","id","location","state","name","phone","email","password","user","setUser","getUser","get","data","console","log","onTextChange","e","target","value","updateAPIData","preventDefault","put"],"sources":["E:/Nodejs/Final_Projects/UserWebsite/clientSide/src/update.js"],"sourcesContent":["import React, { Component, useState ,useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { Navigate,useNavigate ,Link ,useParams ,useLocation } from 'react-router-dom';\r\n\r\n\r\nconst Update = () => {\r\n    const navigate = useNavigate();\r\n    const {id}  =useParams()\r\n    const location=useLocation()\r\n    const state= location.state ;\r\n   // console.log(params.id)\r\n    const [user,setUser] = useState({\r\n        name : \"\",\r\n        phone : \"\",\r\n        email : \"\" ,\r\n        password : \"\"\r\n    })\r\n\r\n\r\n    useEffect(() => {\r\n        async function getUser() {\r\n         try {\r\n          const user = await axios.get(`http://localhost:8000/company/showUser/${state.id}`)\r\n          setUser(user.data);\r\n         } catch (error) {\r\n          console.log(\"Something is Wrong\");\r\n         }\r\n        }\r\n        getUser();\r\n       }, [id]);\r\n\r\n    const { name,phone,email,password} = user;\r\n    function onTextChange(e){\r\n        setUser({ ...user, [e.target.name]: e.target.value });\r\n    }\r\n\r\n    const updateAPIData = async (e) => {\r\n        e.preventDefault()\r\n        try{\r\n            const user = await axios.put(`http://localhost:8000/company/updateUser/${state.id}`,{\r\n                name,\r\n                phone,\r\n                email,\r\n                password\r\n            })\r\n            navigate('/Home')\r\n        }catch(err){\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <div>\r\n            <div className=\"my-5\">\r\n                <h1 className='text-center'>Update Your Data</h1>\r\n            </div>\r\n            <div className='container contact_div'>\r\n                <div className='row'>\r\n                    <div className='col-md-6 col-10 mx-auto'>\r\n                        <form onSubmit={updateAPIData} encType='multipart/form-data'>\r\n                                <div class=\"mb-3\">\r\n                                <label for=\"exampleFormControlInput1\" class=\"form-label\">Name</label>\r\n                                <input type=\"text\" \r\n                                 class=\"form-control\" \r\n                                 name=\"name\"\r\n                                 value={name}\r\n                                 onChange={(e) => onTextChange(e)}\r\n                                 placeholder=\"Enter Your Name\"\r\n                                 required \r\n                                 />\r\n                                </div>\r\n                               \r\n                                <div class=\"mb-3\">\r\n                                <label for=\"exampleFormControlInput1\"   class=\"form-label\">Phone</label>\r\n                                <input type=\"text\"\r\n                                 class=\"form-control\" \r\n                                 name=\"phone\"\r\n                                 value={phone}\r\n                                 onChange={(e) => onTextChange(e)}\r\n                                 placeholder=\"Mobile Number\"\r\n                                 required  pattern=\"[7-9]{1}[0-9]{9}\" />\r\n                                </div>\r\n\r\n                                <div class=\"mb-3\">\r\n                                <label for=\"exampleFormControlInput1\" class=\"form-label\">Email address</label>\r\n                                <input type=\"email\"\r\n                                 class=\"form-control\" \r\n                                 name=\"email\"\r\n                                 value={email}\r\n                                 onChange={(e) => onTextChange(e)}\r\n                                 placeholder=\"Enter Your Email address\" required\r\n                                 pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\" />\r\n                                </div>\r\n\r\n                                <div class=\"mb-3\">\r\n                                <label for=\"exampleFormControlInput1\" class=\"form-label\">Password</label>\r\n                                <input type=\"password\"\r\n                                 class=\"form-control\" \r\n                                 name=\"password\"\r\n                                 value={password}\r\n                                 onChange={(e) => onTextChange(e)}\r\n                                 placeholder=\"Enter Password\" required\r\n                                 />\r\n                                </div>\r\n\r\n                                <div class=\"col-12\">\r\n                                    \r\n                                    <button class=\"btn btn-outline-primary\" x type=\"submit\">\r\n                                        Submit form\r\n                                    </button>\r\n                                \r\n                                    \r\n                                </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div> \r\n        </> \r\n    );\r\n\r\n}\r\nexport default Update;"],"mappings":"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"},"metadata":{},"sourceType":"module"}